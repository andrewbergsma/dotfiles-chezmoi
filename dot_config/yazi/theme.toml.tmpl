{{- /* Get host-specific theme or fall back to default */ -}}
{{- $hostLabel := .hostLabel | default "unknown" -}}
{{- $host := index .hosts $hostLabel | default .default -}}

# ~/.config/yazi/theme.toml
# ============================================================================
# YAZI THEME - HOST-SPECIFIC COLORS
# Host: {{ $host.label }} | Theme: {{ $host.theme }}
# Generated by chezmoi - do not edit directly
# ============================================================================

[mgr]
cwd = { fg = "{{ $host.primary }}" }
hovered = { fg = "{{ $host.bg }}", bg = "{{ $host.primary }}", bold = true }
preview_hovered = { underline = true }

# Tabs
tab_active = { fg = "{{ $host.bg }}", bg = "{{ $host.primary }}" }
tab_inactive = { fg = "{{ $host.fg }}", bg = "{{ $host.muted }}" }
tab_width = 1

# Borders
border_symbol = "│"
border_style = { fg = "{{ $host.muted }}" }

# Markers (selection, cut, copied)
marker_selected = { fg = "{{ $host.accent }}", bg = "{{ $host.accent }}" }
marker_copied = { fg = "{{ $host.secondary }}", bg = "{{ $host.secondary }}" }
marker_cut = { fg = "{{ $host.error }}", bg = "{{ $host.error }}" }

# Count
count_copied = { fg = "{{ $host.bg }}", bg = "{{ $host.secondary }}" }
count_cut = { fg = "{{ $host.bg }}", bg = "{{ $host.error }}" }
count_selected = { fg = "{{ $host.bg }}", bg = "{{ $host.accent }}" }

[mode]
normal = { fg = "{{ $host.bg }}", bg = "{{ $host.primary }}", bold = true }
select = { fg = "{{ $host.bg }}", bg = "{{ $host.accent }}", bold = true }
unset = { fg = "{{ $host.bg }}", bg = "{{ $host.warning }}", bold = true }

[status]
separator_open = ""
separator_close = ""
separator_style = { fg = "{{ $host.muted }}", bg = "{{ $host.muted }}" }

# Mode (left side of status bar)
mode_normal = { fg = "{{ $host.bg }}", bg = "{{ $host.primary }}", bold = true }
mode_select = { fg = "{{ $host.bg }}", bg = "{{ $host.accent }}", bold = true }
mode_unset = { fg = "{{ $host.bg }}", bg = "{{ $host.warning }}", bold = true }

# Progress (center)
progress_label = { fg = "{{ $host.fg }}", bold = true }
progress_normal = { fg = "{{ $host.primary }}", bg = "{{ $host.muted }}" }
progress_error = { fg = "{{ $host.error }}", bg = "{{ $host.muted }}" }

# Permissions (right side)
permissions_t = { fg = "{{ $host.primary }}" }
permissions_r = { fg = "{{ $host.warning }}" }
permissions_w = { fg = "{{ $host.error }}" }
permissions_x = { fg = "{{ $host.secondary }}" }
permissions_s = { fg = "{{ $host.muted }}" }

[select]
border = { fg = "{{ $host.primary }}" }
active = { fg = "{{ $host.accent }}" }
inactive = {}

[input]
border = { fg = "{{ $host.primary }}" }
title = {}
value = {}
selected = { reversed = true }

[completion]
border = { fg = "{{ $host.primary }}" }
active = { bg = "{{ $host.muted }}" }
inactive = {}
icon_file = ""
icon_folder = ""
icon_command = ""

[tasks]
border = { fg = "{{ $host.primary }}" }
title = {}
hovered = { underline = true }

[which]
cols = 3
mask = { bg = "{{ $host.bg_dark }}" }
cand = { fg = "{{ $host.secondary }}" }
rest = { fg = "{{ $host.muted }}" }
desc = { fg = "{{ $host.accent }}" }
separator = " → "
separator_style = { fg = "{{ $host.muted }}" }

[help]
on = { fg = "{{ $host.accent }}" }
run = { fg = "{{ $host.secondary }}" }
desc = { fg = "{{ $host.fg }}" }
hovered = { bg = "{{ $host.muted }}", bold = true }
footer = { fg = "{{ $host.fg }}", bg = "{{ $host.bg }}" }

# ============================================================================
# FILE-SPECIFIC ICONS AND COLORS
# ============================================================================
[filetype]
rules = [
    # Images
    { mime = "image/*", fg = "{{ $host.accent }}" },
    # Videos
    { mime = "video/*", fg = "{{ $host.warning }}" },
    # Audio
    { mime = "audio/*", fg = "{{ $host.secondary }}" },
    # Archives
    { mime = "application/zip", fg = "{{ $host.error }}" },
    { mime = "application/gzip", fg = "{{ $host.error }}" },
    { mime = "application/x-tar", fg = "{{ $host.error }}" },
    { mime = "application/x-7z-compressed", fg = "{{ $host.error }}" },
    # Documents
    { mime = "application/pdf", fg = "{{ $host.error }}" },
    { mime = "application/msword", fg = "{{ $host.primary }}" },
    # Code
    { mime = "text/x-*", fg = "{{ $host.secondary }}" },
    { mime = "application/json", fg = "{{ $host.warning }}" },
    { mime = "application/xml", fg = "{{ $host.warning }}" },
    # Fallback
    { name = "*", fg = "{{ $host.fg }}" },
]

[icon]
rules = [
    # Programming
    { name = "*.rs", text = "" },
    { name = "*.go", text = "" },
    { name = "*.py", text = "" },
    { name = "*.js", text = "" },
    { name = "*.ts", text = "" },
    { name = "*.lua", text = "" },
    { name = "*.sh", text = "" },
    { name = "*.zsh", text = "" },
    { name = "*.bash", text = "" },
    # Config
    { name = "*.toml", text = "" },
    { name = "*.yaml", text = "" },
    { name = "*.yml", text = "" },
    { name = "*.json", text = "" },
    { name = "*.conf", text = "" },
    # Documents
    { name = "*.md", text = "" },
    { name = "*.txt", text = "" },
    { name = "*.pdf", text = "" },
    # Media
    { name = "*.mp3", text = "" },
    { name = "*.flac", text = "" },
    { name = "*.wav", text = "" },
    { name = "*.mp4", text = "" },
    { name = "*.mkv", text = "" },
    { name = "*.png", text = "" },
    { name = "*.jpg", text = "" },
    { name = "*.jpeg", text = "" },
    { name = "*.gif", text = "" },
    { name = "*.svg", text = "" },
    # Git
    { name = ".git", text = "" },
    { name = ".gitignore", text = "" },
    # Directories
    { name = "*/", text = "" },
]
