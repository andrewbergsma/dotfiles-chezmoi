{{- /* Get host-specific theme or fall back to default */ -}}
{{- $hostLabel := .hostLabel | default "unknown" -}}
{{- $host := index .hosts $hostLabel | default .default -}}

# Starship Prompt Configuration
# Host: {{ $host.label }} | Theme: {{ $host.theme }}
# Generated by chezmoi - do not edit directly

format = """
[░▒▓]({{ $host.primary }})\
[  ](bg:{{ $host.primary }} fg:{{ $host.bg }})\
[](bg:{{ $host.secondary }} fg:{{ $host.primary }})\
$hostname\
[](bg:{{ $host.accent }} fg:{{ $host.secondary }})\
$directory\
[](fg:{{ $host.accent }} bg:{{ $host.muted }})\
$git_branch\
$git_status\
[](fg:{{ $host.muted }} bg:{{ $host.bg }})\
$python\
$nodejs\
$rust\
$golang\
[](fg:{{ $host.bg }} bg:{{ $host.bg_dark }})\
$time\
[ ](fg:{{ $host.bg_dark }})\
\n$character"""

# ============================================================================
# HOST IDENTITY - Prominent display of which machine you're on
# ============================================================================
[hostname]
disabled = false
ssh_only = false
style = "fg:{{ $host.bg }} bg:{{ $host.secondary }} bold"
format = "[ {{ $host.label | upper }} ]($style)"
trim_at = "."

# ============================================================================
# DIRECTORY
# ============================================================================
[directory]
style = "fg:{{ $host.bg }} bg:{{ $host.accent }}"
format = "[ $path ]($style)"
truncation_length = 0


# ============================================================================
# GIT
# ============================================================================
[git_branch]
symbol = ""
style = "bg:{{ $host.muted }}"
format = '[[ $symbol $branch ](fg:{{ $host.primary }} bg:{{ $host.muted }})]($style)'

[git_status]
style = "bg:{{ $host.muted }}"
format = '[[($all_status$ahead_behind )](fg:{{ $host.warning }} bg:{{ $host.muted }})]($style)'

# ============================================================================
# LANGUAGES
# ============================================================================
[python]
disabled = true

[nodejs]
symbol = ""
style = "bg:{{ $host.bg }}"
format = '[[ $symbol $version ](fg:{{ $host.secondary }} bg:{{ $host.bg }})]($style)'

[rust]
symbol = ""
style = "bg:{{ $host.bg }}"
format = '[[ $symbol $version ](fg:{{ $host.secondary }} bg:{{ $host.bg }})]($style)'

[golang]
symbol = ""
style = "bg:{{ $host.bg }}"
format = '[[ $symbol $version ](fg:{{ $host.secondary }} bg:{{ $host.bg }})]($style)'

# ============================================================================
# TIME & CHARACTER
# ============================================================================
[time]
disabled = false
time_format = "%R"
style = "bg:{{ $host.bg_dark }}"
format = '[[  $time ](fg:{{ $host.fg }} bg:{{ $host.bg_dark }})]($style)'

[character]
success_symbol = "[❯](bold {{ $host.accent }})"
error_symbol = "[❯](bold {{ $host.error }})"
