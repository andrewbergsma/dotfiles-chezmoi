{{- /* Get host-specific data */ -}}
{{- $hostLabel := .hostLabel | default "unknown" -}}
{{- $host := index .hosts $hostLabel | default .default -}}

# ~/.zshrc
# ============================================================================
# Cross-platform ZSH configuration managed by chezmoi
# Host: {{ $host.label }} | OS: {{ $host.os }}
# ============================================================================

# XDG Base Directory
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_CACHE_HOME="$HOME/.cache"

# Load modular configuration
source_if_exists() {
    [[ -f "$1" ]] && source "$1"
}

# Core shell configuration (shared across all hosts)
source_if_exists ~/.config/shell/common.zsh

# Host-specific local overrides (generated by chezmoi)
source_if_exists ~/.config/shell/local.zsh

# Optional user customizations (not managed by chezmoi)
source_if_exists ~/.config/shell/custom.zsh

# Initialize starship prompt
eval "$(starship init zsh)"
